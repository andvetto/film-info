{"version":3,"sources":["Components/MoviePoster.js","config/config.js","Auth/auth.js","Containers/logincontext.js","Components/SearchBar.js","Components/IsLoading.js","Pages/Home.js","Pages/Detail.js","Components/Validation.js","Components/Login.js","Components/Logout.js","Components/Signup.js","Components/Footer.js","Components/BackButton.js","Pages/Favorites.js","App.js","serviceWorker.js","index.js"],"names":["MoviePoster","this","props","ricerca","Search","films","map","film","className","key","imdbID","src","Poster","alt","Title","Year","exact","to","Error","React","Component","configURL","API_BACKEND","AUTH_URL","Config","authMethods","isTokenExpired","expires","localStorage","getItem","res","Date","removeItem","handleError","resp","message","status","data","error","addAxiosToken","token","getToken","axios","defaults","headers","common","auth","JSON","parse","access_token","getUser","user","login","email","password","a","async","post","result","Promise","reject","expireDate","getTime","setItem","stringify","response","signup","name","rejected","logout","Auth","UserDataContext","createContext","UserDataProvider","useState","setUser","Provider","value","children","SearchBar","useContext","id","onChange","type","default","placeholder","aria-label","disabled","onClick","IsLoading","usePromiseTracker","promiseInProgress","style","width","height","display","justifyContent","alignItems","color","Home","state","match","params","titolo","handleChange","bind","handleClick","event","setState","target","length","trackPromise","fetch","then","json","catch","require","Detail","risultato","ajaxCompleted","get","risposta","title","delete","Plot","Genre","Actors","Director","Runtime","str","array","split","longestWord","forEach","word","bottone","manda","aria-hidden","cancella","findLongestWord","validationMethods","validateEmail","re","document","getElementById","test","classList","add","remove","validatePassword","validateUsername","validateSignup","validateLogin","Validation","Login","pars","setEmail","setPassword","setError","onSubmit","e","preventDefault","payload","history","push","err","htmlFor","required","resetForm","isError","Logout","useEffect","Signup","setName","Footer","BackButton","Favorites","img","year","App","path","component","Boolean","window","location","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ee2b6e51.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n//import IsLoading from './IsLoading';\r\n\r\nclass MoviePoster extends React.Component { \r\n\r\n    render(){\r\n    \r\n        \r\n            if(this.props.ricerca.Search){\r\n                var films = this.props.ricerca.Search;\r\n                \r\n                return (\r\n\r\n                <>\r\n                    {films.map( film => \r\n\r\n                    (\r\n                        <div className=\"col-lg-3 col-md-4 col-sm-6 py-2\" key={film.imdbID} >\r\n\r\n                            <div className=\"card\" >\r\n                                <img src={film.Poster!==\"N/A\"? film.Poster : \"https://via.placeholder.com/300x410\"} alt={film.Title} />\r\n                                <div className=\"card-body text-dark\">\r\n                                    <h5 className=\"card-title\">{film.Title}</h5>\r\n                                    <p className=\"card-text\">{film.Year}</p>\r\n                                    <NavLink exact to={ `/detail/${film.imdbID}` } className=\"btn btn-primary\">\r\n                                        Go to detail\r\n                                    </NavLink>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                </>\r\n                )\r\n            }\r\n            if(this.props.ricerca.Error === \"Movie not found!\")\r\n            return (\r\n                <div className=\"container-fluid text-center\">\r\n                    <h3>Il film cercato non è presente nel nostro database!</h3>\r\n                </div>\r\n            )\r\n\r\n        \r\n        \r\n        return (\r\n            <div className=\"container-fluid text-center\">\r\n                <h3>Ricerca un film o una serie tv inserendo una parola del titolo</h3>\r\n            </div>\r\n        )\r\n  \r\n    }\r\n}\r\nexport default MoviePoster;","function Config(){\r\n\r\n    const API_BACKEND = \"http://react-film-search.atwebpages.com/laravel-api\";\r\n\r\n    const AUTH_URL = \"http://react-film-search.atwebpages.com/laravel-api/api/auth/\";\r\n\r\n\r\n    return {\r\n        API_BACKEND,\r\n        AUTH_URL,\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst configURL = Config();\r\nexport default configURL;","import Config from '../config/config';\r\nimport axios from 'axios';\r\n\r\nconst AUTH_URL = Config.AUTH_URL;\r\n\r\nfunction Auth(){\r\n\r\n    const isTokenExpired = () => {\r\n        const expires = +localStorage.getItem('token-expires');\r\n        const res = (new Date()) > expires;\r\n        if(res){\r\n            localStorage.removeItem('token-expires');\r\n            localStorage.removeItem('auth');\r\n        }\r\n        return res;\r\n    }\r\n\r\n    const handleError = (resp) => {\r\n            let message = '';\r\n            switch (resp.status){\r\n                case 401: \r\n                    message = resp.data.error;\r\n                    break;\r\n                /*\r\n                case 500: \r\n                    message = resp.data.message;\r\n                    break;\r\n                */\r\n                default:\r\n                    message = 'Error contacting server.';\r\n            }\r\n\r\n            return message;\r\n    }\r\n\r\n    const addAxiosToken = () => {\r\n        const token = getToken();\r\n        if(token){\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\r\n        }\r\n    }\r\n\r\n\r\n    const login = async (email, password) => {\r\n\r\n        try{\r\n            const result = await axios.post( AUTH_URL + 'login',\r\n                {\r\n                    email,\r\n                    password\r\n                }\r\n            );\r\n            \r\n            const data = result['data'];\r\n            if(!data || !data['access_token']){\r\n                return Promise.reject('Invalid server response');\r\n            }\r\n\r\n            const expireDate = (new Date()).getTime() + data['expires_in']*1000;\r\n\r\n            localStorage.setItem('token-expires', expireDate);\r\n            localStorage.setItem('auth', JSON.stringify(result.data));\r\n\r\n            return result.data;\r\n        } catch (e){\r\n            return Promise.reject(handleError(e.response));\r\n        }\r\n    };\r\n\r\n    const getToken = () => {\r\n\r\n        if(isTokenExpired()){\r\n            return null\r\n        }\r\n\r\n        const auth = JSON.parse(localStorage.getItem('auth'));\r\n        if(auth) {\r\n            return auth.access_token\r\n        }\r\n        return null\r\n    };\r\n\r\n    const getUser = () => {\r\n\r\n        const auth = JSON.parse(localStorage.getItem('auth'));\r\n        if(auth) {\r\n            return auth.user\r\n        }\r\n        return null\r\n    };\r\n    \r\n    const signup = async (email, name, password) => {\r\n\r\n        try{\r\n            const result = await axios.post( AUTH_URL + 'signup',\r\n                {\r\n                    email,\r\n                    name,\r\n                    password,\r\n\r\n                }\r\n            );\r\n\r\n            const data = result['data'];\r\n            if(!data || !data['access_token']){\r\n                return Promise.rejected('Invalid server response');\r\n            }\r\n            \r\n            const expireDate = (new Date()).getTime() + data['expires_in']*1000;\r\n\r\n            localStorage.setItem('token-expires', expireDate);\r\n\r\n            localStorage.setItem('auth', JSON.stringify(result.data));\r\n\r\n            return result.data;\r\n        } catch (e){\r\n            return Promise.reject(handleError(e.response));\r\n        }\r\n    };\r\n\r\n    const logout = async () => {\r\n        addAxiosToken();\r\n        try{\r\n            \r\n            const result = await axios.post(AUTH_URL + 'logout')\r\n            localStorage.removeItem('auth');\r\n            \r\n            return result;\r\n        } catch(e){\r\n            //console.log(e)\r\n            return e;\r\n        }\r\n\r\n    };\r\n  \r\n\r\n    return {\r\n        getUser,\r\n        login,\r\n        signup,\r\n        logout,\r\n        getToken,\r\n        isTokenExpired,\r\n\r\n    }\r\n\r\n}\r\n\r\nconst authMethods = Auth();\r\nexport default authMethods;\r\n","import React from 'react';\r\nimport Auth from '../Auth/auth';\r\n\r\nconst user = Auth.getUser();\r\n\r\nconst UserDataContext = React.createContext(user);\r\n\r\nconst UserDataProvider = (props) => {\r\n\r\n    const [user, setUser] = React.useState();\r\n\r\n    return (\r\n        <UserDataContext.Provider value={[user, setUser]}>\r\n            {props.children}\r\n        </UserDataContext.Provider>\r\n    );\r\n\r\n}\r\n\r\nexport {UserDataContext, UserDataProvider};","\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Auth from '../Auth/auth';\r\nimport {UserDataContext} from '../Containers/logincontext';\r\n\r\nfunction SearchBar(props){\r\n\r\n        const [user] = React.useContext(UserDataContext);\r\n        const isTokenExpired = Auth.isTokenExpired();\r\n        //console.log(user)\r\n        return(\r\n            \r\n            <nav className=\"navbar navbar-light bg-dark justify-content-center\">\r\n\r\n\r\n                <input className=\"form-control col-sm-4 my-2\" id=\"cerca\" onChange={props.onChange} type=\"text\" value={props.default} placeholder=\"Search\" aria-label=\"Search\"/>\r\n                <button className=\"btn btn-block btn-outline-success mx-2\" disabled={props.disabled} onClick={props.onClick} >Search</button>\r\n\r\n                { !user || isTokenExpired ? (\r\n                \r\n                    <>\r\n                    <NavLink exact to={ \"/user/login\" } className=\"btn btn-block btn-outline-info mx-2\">\r\n                        Login\r\n                    </NavLink>\r\n                    <NavLink exact to={ \"/user/signup\" } className=\"btn btn-block btn-outline-info mx-2\">\r\n                        Signup\r\n                    </NavLink>\r\n                    </>\r\n                    ) :null\r\n                }\r\n                { user && !isTokenExpired  ? (\r\n                    <>\r\n                    <NavLink exact to={ \"/favorites/list\" } className=\"btn btn-block btn-outline-warning mx-2\">\r\n                        {user.name}\r\n                    </NavLink>\r\n\r\n                    <NavLink exact to={ \"/user/logout\" } className=\"btn btn-block btn-outline-danger mx-2\">\r\n                        Logout\r\n                    </NavLink>\r\n                    </>\r\n                    ) : null\r\n    }\r\n\r\n            </nav>\r\n        )\r\n  \r\n\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport { usePromiseTracker } from \"react-promise-tracker\";\r\nimport Loader from 'react-loader-spinner';\r\n\r\n\r\n\r\n\r\nconst IsLoading = props => {\r\n    \r\n    const { promiseInProgress } = usePromiseTracker();\r\n    \r\n    return (\r\n        promiseInProgress && \r\n            <div\r\n                style={{\r\n                    width: \"100%\",\r\n                    height: \"100\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\"\r\n                }}\r\n            >\r\n                <Loader type=\"ThreeDots\" color={props.color || \"#fff\"} height={100} width={100} />\r\n            </div>\r\n      );  \r\n    }\r\n\r\nexport default IsLoading;","\r\nimport React from 'react';\r\nimport MoviePoster from '../Components/MoviePoster';\r\nimport SearchBar from '../Components/SearchBar';\r\nimport IsLoading from '../Components/IsLoading';\r\nimport { trackPromise } from 'react-promise-tracker';\r\n\r\n\r\nclass Home extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: this.props.match.params.titolo || \"\",\r\n            disabled: true\r\n        };\r\n    \r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        \r\n        //console.log(this.state);\r\n        this.handleClick();\r\n    }\r\n\r\n    handleChange(event) {\r\n      \r\n\r\n        this.setState({value: event.target.value});\r\n        if(event.target.value.length > 2){\r\n            this.setState({disabled: false})\r\n        }\r\n        else if(event.target.value.length <= 2){\r\n            this.setState({disabled: true})\r\n        }\r\n   \r\n    }\r\n\r\n   handleClick(){\r\n        let value = this.state.value;\r\n        const API_KEY = \"apikey=7e18b2af\";\r\n        //console.log(this.state);\r\n        if(value===this.state.value){\r\n        trackPromise(\r\n        fetch(`https://www.omdbapi.com/?s=${value}&${API_KEY}`)\r\n            .then(response => {             \r\n                this.setState({ response: response, value: value });\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                \r\n                this.setState({\r\n                    data: data,\r\n               \r\n                });\r\n            }))\r\n            .catch(error => this.setState({ error: error }));\r\n        }       \r\n    }\r\n    \r\n    render() {\r\n\r\n        return(\r\n            <>\r\n            <SearchBar onClick={() => this.handleClick()} onChange={event => this.handleChange(event)} default={this.state.value} disabled={this.state.disabled}/>\r\n            <div className=\"row py-3 justify-content-center\" id=\"showResults\" >\r\n                <MoviePoster ricerca={this.state.data || \"default\"} error={this.state.error} />\r\n                <IsLoading/>\r\n            </div>\r\n            </>\r\n        )\r\n  \r\n        \r\n    }\r\n}\r\n\r\nexport default Home;","import Config from '../config/config';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport IsLoading from '../Components/IsLoading';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport Auth from '../Auth/auth';\r\nconst axios = require('axios');\r\n\r\nconst API_BACKEND = Config.API_BACKEND;\r\n\r\n\r\n\r\nclass Detail extends React.Component { \r\n\r\n\r\n        constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: \"\",\r\n            risultato: [],\r\n            user: Auth.getUser(),\r\n            token: Auth.getToken(),\r\n            isTokenExpired: Auth.isTokenExpired(),\r\n            \r\n        };\r\n\r\n    }  \r\n\r\n    \r\n\r\n    componentDidMount(props){\r\n\r\n        let imdbID = this.props.match.params.imdbID;\r\n        const API_KEY = \"apikey=7e18b2af\";\r\n\r\n        trackPromise(\r\n        fetch(`https://www.omdbapi.com/?i=${imdbID}&${API_KEY}`)\r\n            .then(response => {\r\n                \r\n                this.setState({ response: response });\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                \r\n                this.setState({\r\n                    ajaxCompleted: true,\r\n                    data: data,\r\n               \r\n                });\r\n                return data;\r\n            }).then(film => {\r\n                //fetch(`http://localhost:3004/posts?title=${film.Title}`)\r\n                //fetch(`https://film-info-35efc.firebaseio.com/favorite/films/${film.imdbID}.json`)\r\n                axios.get(`${API_BACKEND}/favorites/${this.state.user.id}/detail/${film.imdbID}`)\r\n                .then(risposta => {\r\n                        \r\n                    if(risposta.data.length!==0){\r\n                        this.setState({ risultato: [risposta.data[0].title]})\r\n                    } else{\r\n                        this.setState({ risultato: []})\r\n                    } \r\n                });\r\n                               \r\n            }))\r\n                \r\n                                        \r\n            .catch(error => this.setState({ error: error }));\r\n\r\n    }\r\n\r\n\r\n    cancella() {\r\n        \r\n        let film = this.state.data;\r\n        let token = this.state.token;\r\n        \r\n        if(token){\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\r\n        }\r\n\r\n   \r\n        //fetch(`https://film-info-35efc.firebaseio.com/favorite/films/${film.imdbID}.json`, \r\n        axios.delete(`${API_BACKEND}/favorites/${this.state.user.id}/delete/${film.imdbID}`)\r\n        .then(() => this.setState({ risultato: []} ));\r\n        \r\n    }\r\n\r\n    manda() {\r\n\r\n        let film = this.state.data;\r\n        let token = this.state.token;\r\n\r\n        if(token){\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\r\n        }\r\n        axios.post(`${API_BACKEND}/favorites`, \r\n\r\n        {\r\n            \r\n            \"user_id\" : `${this.state.user.id}`, \r\n            \"title\" : `${film.Title}`,\r\n            \"year\" : `${film.Year}`,\r\n            \"plot\" : `${film.Plot}`,\r\n            \"genre\" : `${film.Genre}`,\r\n            \"actors\" : `${film.Actors}`,\r\n            \"director\" : `${film.Director}`,\r\n            \"runtime\" : `${film.Runtime}`,\r\n            \"img\" : `${film.Poster}`,\r\n            \"imdbID\" : `${film.imdbID}`,\r\n                \r\n        })\r\n        .then(this.setState({ risultato: [1,2]} ))\r\n        //.then(console.log(this.state.risultato, \"pippo\"))\r\n    }\r\n\r\n\r\nfindLongestWord(str) {\r\n    var array = str.split(' ')\r\n    var longestWord = \"\";\r\n\r\n    array.forEach(function(word) {\r\n        if(word.length > longestWord.length) {\r\n            longestWord = word;\r\n        }\r\n    });\r\n\r\n    return longestWord;\r\n}\r\n\r\n    render(){\r\n        var bottone;\r\n        //console.log(this.state.token)\r\n        //console.log(this.state.risultato, \"pluto\")\r\n        //var classe = this.state.risultato.length ? \"gialla\" : \"bianca\" ;\r\n        if(this.state.user && !this.state.isTokenExpired){\r\n\r\n        \r\n            if(this.state.risultato.length===0){\r\n                bottone = <i className=\"fa fa-star stellaBianca\" onClick={() => this.manda()} aria-hidden=\"true\"></i>\r\n\r\n            } else {\r\n                bottone = <i className=\"fa fa-star stellaGialla\" onClick={() => this.cancella()} aria-hidden=\"true\"></i>\r\n            }\r\n        }\r\n\r\n        if(this.state.data){\r\n            let film = this.state.data;\r\n            return (\r\n                <div className=\"container text-center border border-secondary py-3\">\r\n                    <h2>{film.Title}</h2>\r\n                    <img src={film.Poster!==\"N/A\"? film.Poster : \"https://via.placeholder.com/300x410\"} className=\"my-3\" alt={film.Title} />\r\n                    <p>{film.Plot}</p>\r\n                    <p>Director: {film.Director}</p>\r\n                    <p>Actors: {film.Actors}</p>\r\n                    <p>Genre: {film.Genre}</p>\r\n                    <p>Runtime: {film.Runtime}</p>\r\n                    <p>Year: {film.Year}</p>\r\n                    <NavLink exact to={\"/\" + this.findLongestWord(film.Title)} className=\"btn btn-primary mx-2\">\r\n                        Go Back\r\n                    </NavLink>\r\n                    {bottone}\r\n                </div>\r\n              \r\n\r\n            )\r\n        }\r\n        if(this.state.error) {\r\n            let error = this.state.error;\r\n            return <p>{error}</p>\r\n        }\r\n        return <IsLoading color=\"#007bff\"/>\r\n    }\r\n}\r\nexport default Detail;","\r\nfunction Validation(){\r\n\r\n    \r\n    const validateEmail = (email) => {\r\n        // eslint-disable-next-line\r\n        var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        \r\n        if(document.getElementById(\"email\")){\r\n            if(re.test(email)){\r\n                document.getElementById(\"email\").classList.add(\"is-valid\");\r\n                document.getElementById(\"email\").classList.remove(\"is-invalid\");\r\n            }\r\n            if(!re.test(email)){\r\n                document.getElementById(\"email\").classList.add(\"is-invalid\");\r\n                document.getElementById(\"email\").classList.remove(\"is-valid\");\r\n            }\r\n        }\r\n\r\n        return re.test(email);\r\n    }\r\n\r\n    const validatePassword = (password) => {\r\n        // eslint-disable-next-line\r\n        var re = /^(?=.*?[0-9])(?=.*?[a-zA-Z]).{8,16}$/;\r\n\r\n        if(document.getElementById(\"password\")){\r\n            if(re.test(password)){\r\n                document.getElementById(\"password\").classList.add(\"is-valid\");\r\n                document.getElementById(\"password\").classList.remove(\"is-invalid\");\r\n            }\r\n            if(!re.test(password)){\r\n                document.getElementById(\"password\").classList.add(\"is-invalid\");\r\n                document.getElementById(\"password\").classList.remove(\"is-valid\");\r\n            }\r\n        }\r\n\r\n        return re.test(password);\r\n    }\r\n\r\n    const validateUsername = (name) => {\r\n        // eslint-disable-next-line\r\n        var re = /^[a-zA-Z0-9]{4,16}$/;\r\n\r\n        if(document.getElementById(\"name\")){\r\n            if(re.test(name)){\r\n                document.getElementById(\"name\").classList.add(\"is-valid\");\r\n                document.getElementById(\"name\").classList.remove(\"is-invalid\");\r\n            }\r\n            if(!re.test(name)){\r\n                document.getElementById(\"name\").classList.add(\"is-invalid\");\r\n                document.getElementById(\"name\").classList.remove(\"is-valid\");\r\n            }\r\n        }\r\n\r\n        return re.test(name);\r\n    }\r\n\r\n    const validateSignup = (name, email, password) => {\r\n\r\n        if ( validateEmail(name) === false || validatePassword(email) === false || validateUsername(password) === false ){\r\n            return false;\r\n        }\r\n        return true\r\n    }\r\n\r\n    const validateLogin = (email, password) => {\r\n\r\n        if ( validateEmail(email) === false || validatePassword(password) === false){\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    return {\r\n        validateSignup,\r\n        validateLogin,\r\n        validateEmail,\r\n        validatePassword,\r\n        validateUsername,\r\n\r\n    }\r\n\r\n}\r\n\r\nconst validationMethods = Validation();\r\nexport default validationMethods;","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Auth from '../Auth/auth';\r\nimport Validation from './Validation';\r\nimport IsLoading from './IsLoading';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport {UserDataContext} from '../Containers/logincontext';\r\n\r\nconst Login = (pars) => {\r\n\r\n    const [, setUser] = React.useContext(UserDataContext);\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const loginUser = (e) => {\r\n        e.preventDefault()\r\n        trackPromise(\r\n        Auth.login(email, password)\r\n            .then( payload => {\r\n                setUser(payload.user)\r\n                pars.history.push('/favorites/list');\r\n            })\r\n            .catch(err => {\r\n                setError(err);\r\n            }));\r\n    }\r\n\r\n    const resetForm = e => {\r\n        e.preventDefault()\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    const isError = error => {\r\n        if(error!==\"\"){\r\n            return (   \r\n                <div className=\"container-fluid text-center mb-2\">\r\n                    <h3 className=\"mb-3\">{error}</h3>\r\n                </div>\r\n            )\r\n        }\r\n        return null;\r\n    }\r\n\r\n    const disabled = !Validation.validateLogin(email, password);\r\n\r\n    return(\r\n        \r\n        <>\r\n        <h2 className=\"mb-3\">Login</h2>\r\n        <div className=\"row justify-content-center\">\r\n            \r\n            <form className=\"form col-sm-6 col-md-4\" onSubmit={loginUser}>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\" className=\"control-label\">Email</label>\r\n                    <input required name=\"email\" id=\"email\" value={email} className=\"form-field form-control\" \r\n                        onChange={e=>setEmail(e.target.value)} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\" className=\"control-label\">Password</label>\r\n                    <input required name=\"password\" id=\"password\" value={password} type=\"password\" className=\"form-field form-control\" \r\n                        onChange={e=>setPassword(e.target.value)} />\r\n\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-success\" disabled={disabled} >Login</button>\r\n                    <NavLink exact to=\"/\" className=\"btn btn-primary mx-2 my-2\">\r\n                        Go Back\r\n                    </NavLink>\r\n                    <button className=\"btn btn-danger\" onClick={e=>resetForm(e)}>Reset</button>\r\n\r\n                </div>\r\n\r\n            </form>\r\n\r\n            {isError(error)}\r\n\r\n            <IsLoading color=\"#2BAD60\"/>\r\n        </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Login;","\r\nimport React from 'react';\r\n\r\nimport Auth from '../Auth/auth';\r\nimport IsLoading from './IsLoading';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport {UserDataContext} from '../Containers/logincontext';\r\n\r\n\r\nexport default function Logout (props) {\r\n\r\n    const [, setUser] = React.useContext(UserDataContext);\r\n\r\n    React.useEffect( () => {\r\n        trackPromise(\r\n        Auth.logout().then(() => {\r\n            setUser(null);\r\n            props.history.push('/');\r\n        }));\r\n       \r\n    })\r\n    \r\n    return (\r\n        <>\r\n            <h3>Logging out</h3>\r\n            <IsLoading color=\"#dc3545\"/>\r\n        </>\r\n        )\r\n}","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Auth from '../Auth/auth';\r\nimport Validation from './Validation';\r\nimport IsLoading from './IsLoading';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport {UserDataContext} from '../Containers/logincontext';\r\n\r\nconst Signup = (pars) => {\r\n\r\n    const [, setUser] = React.useContext(UserDataContext);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const signupUser = (e) => {\r\n        e.preventDefault()\r\n        trackPromise(\r\n        Auth.signup(email, name, password)\r\n            .then( payload => {\r\n                setUser(payload.user)\r\n                pars.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                setError(err);\r\n            }));\r\n}\r\n\r\n    const resetForm = e => {\r\n        e.preventDefault()\r\n        setEmail('');\r\n        setPassword('');\r\n        setName('');\r\n    }\r\n\r\n    const isError = error => {\r\n        if(error!==\"\"){\r\n            return (\r\n                <div className=\"container-fluid text-center mb-2\">\r\n                    <h3 className=\"mb-3\">{error}</h3>\r\n                </div>\r\n            )\r\n        }\r\n        return null;\r\n    }\r\n\r\n    const disabled = !Validation.validateSignup(email, password, name);\r\n\r\n    return(\r\n        <>\r\n        <h2 className=\" mb-3\">Signup</h2>\r\n        <div className=\"row justify-content-center\">\r\n            \r\n            <form className=\"form col-sm-6 col-md-4\" onSubmit={signupUser}>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"name\" className=\"control-label\">Username</label>\r\n                    <input required name=\"name\" id=\"name\" value={name} className=\"form-field form-control\"\r\n                        onChange={e=>setName(e.target.value)} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\" className=\"control-label\">Email</label>\r\n                    <input required name=\"email\" id=\"email\" value={email} className=\"form-field form-control\"\r\n                        onChange={e=>setEmail(e.target.value)} />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\" className=\"control-label\">Password</label>\r\n                    <input required name=\"password\" id=\"password\" type=\"password\" value={password} className=\"form-field form-control\"\r\n                        onChange={e=>setPassword(e.target.value)} />\r\n\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-success\" disabled={disabled} >Signup</button>\r\n                    <NavLink exact to=\"/\" className=\"btn btn-primary mx-2 my-2\">\r\n                        Go Back\r\n                    </NavLink>\r\n                    <button className=\"btn btn-danger\" onClick={e=>resetForm(e)}>Reset</button>\r\n                </div>\r\n\r\n            </form>\r\n\r\n            {isError(error)}\r\n\r\n            <IsLoading color=\"#2BAD60\"/>\r\n        </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Signup;","import React from 'react';\r\n\r\nconst Footer = () => (     \r\n    <footer>\r\n        <div className=\"text-center bg-dark py-3 text-secondary\">\r\n            <p>© 2019 Copyright</p>\r\n        </div>\r\n    </footer>\r\n)\r\nexport default Footer;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction BackButton(props){\r\n\r\n        return(\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <NavLink exact to={ \"/\" } className=\"btn btn-info my-2\">\r\n                        Go Back\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n        )\r\n  \r\n\r\n}\r\n\r\nexport default BackButton;\r\n","import Config from '../config/config';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport BackButton from '../Components/BackButton';\r\nimport Auth from '../Auth/auth';\r\nimport IsLoading from '../Components/IsLoading';\r\nimport { trackPromise } from 'react-promise-tracker';\r\n\r\nconst axios = require('axios');\r\nconst API_BACKEND = Config.API_BACKEND;\r\n//const API_URL = 'http://localhost:3004'\r\n\r\nexport default class Favorites extends React.Component { \r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            response: \"\",\r\n            films:[],\r\n            user: Auth.getUser(),\r\n            token: Auth.getToken(),\r\n            isTokenExpired: Auth.isTokenExpired(),\r\n        };\r\n        \r\n    } \r\n\r\n    \r\n\r\n    componentDidMount() {\r\n\r\n        let token = this.state.token;\r\n    \r\n        if(token){\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\r\n        }\r\n\r\n        let isTokenExpired = this.state.isTokenExpired;\r\n        \r\n        if(isTokenExpired){\r\n            this.props.history.push('/user/login');\r\n        }\r\n\r\n        trackPromise(\r\n            axios.get(`${API_BACKEND}/favorites/list/${this.state.user.id}`)\r\n                .then(\r\n                    response => {\r\n                        //console.log(response);\r\n                        if (response.data!==[]){\r\n                            return this.setState({ films: response.data })\r\n                        }\r\n                        this.setState({ films: \"error\" })\r\n                    }\r\n                )\r\n                .catch(error => this.setState({ error: error }))\r\n        );\r\n        \r\n    }\r\n\r\n    render(){\r\n        //console.log(this.state.films, \"pippo\")\r\n        if(this.state.films!==\"no-favorites\"){\r\n            var films = this.state.films;\r\n            \r\n            return (\r\n                <>\r\n                \r\n                <div className=\"container-fluid text-center mb-2\">\r\n                    <h3 className=\"mb-3\">I preferiti di {this.state.user.name}</h3>\r\n                    <BackButton/>\r\n                </div>\r\n                \r\n                <IsLoading color=\"#ffc107\"/>\r\n                <div className=\"row justify-content-center\">\r\n                    {films.map( film => \r\n\r\n\r\n                    (\r\n                        <div className=\"col-lg-3 col-md-4 col-sm-6 py-2\" key={film.id} >\r\n\r\n                            <div className=\"card\" >\r\n                                <img src={film.img!==\"N/A\"? film.img : \"https://via.placeholder.com/300x410\"} alt={film.title} />\r\n                                <div className=\"card-body text-dark\">\r\n                                    <h5 className=\"card-title\">{film.title}</h5>\r\n                                    <p className=\"card-text\">{film.year}</p>\r\n                                    <NavLink exact to={ `/detail/${film.imdbID}` } className=\"btn btn-primary mx-2 my-2\">\r\n                                        Go to detail\r\n                                    </NavLink>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    \r\n                \r\n                </div>\r\n                </>\r\n            )\r\n        }\r\n         return (\r\n            <> \r\n            \r\n            <div className=\"container-fluid text-center mb-2\">\r\n                <h3 className=\"mb-3\">Non hai inserito alcun film tra i preferiti!</h3>\r\n                <BackButton/>\r\n            </div>\r\n            <IsLoading color=\"#ffc107\"/>\r\n            </>\r\n         )\r\n    } \r\n   \r\n  \r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport Home from './Pages/Home';\r\nimport Detail from './Pages/Detail';\r\nimport Login from './Components/Login';\r\nimport Logout from './Components/Logout';\r\nimport Signup from './Components/Signup';\r\nimport {UserDataProvider} from './Containers/logincontext';\r\n\r\n\r\nimport Footer from './Components/Footer';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport './App.css';\r\nimport Favorites from './Pages/Favorites';\r\n\r\nfunction App() {\r\n\r\n\r\n\r\n  return (\r\n    <UserDataProvider>\r\n      <Router>\r\n        \r\n        <div className=\"App container-fluid bg-dark text-light text-center\">\r\n          \r\n          <h1 id=\"titolo\" className=\"py-3\">Film Information</h1>\r\n          <main>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/:titolo\" component={Home} />\r\n            <Route exact path=\"/detail/:imdbID\" component={Detail} />\r\n            <Route exact path=\"/favorites/list\" component={Favorites} />\r\n            <Route exact path=\"/user/login\" component={Login} />\r\n            <Route exact path=\"/user/logout\" component={Logout} />\r\n            <Route exact path=\"/user/signup\" component={Signup} />\r\n          </main>\r\n          <Footer/>\r\n        </div>\r\n        \r\n      </Router>\r\n    </UserDataProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}